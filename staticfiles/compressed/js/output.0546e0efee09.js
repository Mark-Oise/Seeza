;const themeToggleDarkIcon=document.getElementById('theme-toggle-dark-icon');const themeToggleLightIcon=document.getElementById('theme-toggle-light-icon');const themeToggleBtn=document.getElementById('theme-toggle');if(localStorage.getItem('color-theme')==='dark'||(!('color-theme'in localStorage)&&window.matchMedia('(prefers-color-scheme: dark)').matches)){themeToggleLightIcon.classList.remove('hidden');}else{themeToggleDarkIcon.classList.remove('hidden');}
themeToggleBtn.addEventListener('click',function(){themeToggleDarkIcon.classList.toggle('hidden');themeToggleLightIcon.classList.toggle('hidden');if(localStorage.getItem('color-theme')){if(localStorage.getItem('color-theme')==='light'){document.documentElement.classList.add('dark');localStorage.setItem('color-theme','dark');}else{document.documentElement.classList.remove('dark');localStorage.setItem('color-theme','light');}}else{if(document.documentElement.classList.contains('dark')){document.documentElement.classList.remove('dark');localStorage.setItem('color-theme','light');}else{document.documentElement.classList.add('dark');localStorage.setItem('color-theme','dark');}}});;document.addEventListener('DOMContentLoaded',function(){const toggleSidebarMobile=document.getElementById('toggleSidebarMobile');const sidebar=document.getElementById('sidebar');const sidebarBackdrop=document.getElementById('sidebarBackdrop');const toggleSidebarMobileHamburger=document.getElementById('toggleSidebarMobileHamburger');const toggleSidebarMobileClose=document.getElementById('toggleSidebarMobileClose');function toggleMobileSidebar(){sidebar.classList.toggle('hidden');sidebarBackdrop.classList.toggle('hidden');toggleSidebarMobileHamburger.classList.toggle('hidden');toggleSidebarMobileClose.classList.toggle('hidden');const isExpanded=toggleSidebarMobile.getAttribute('aria-expanded')==='true';toggleSidebarMobile.setAttribute('aria-expanded',String(!isExpanded));}
toggleSidebarMobile.addEventListener('click',toggleMobileSidebar);sidebarBackdrop.addEventListener('click',function(){sidebar.classList.add('hidden');sidebarBackdrop.classList.add('hidden');toggleSidebarMobileHamburger.classList.remove('hidden');toggleSidebarMobileClose.classList.add('hidden');toggleSidebarMobile.setAttribute('aria-expanded','false');});});document.addEventListener('DOMContentLoaded',function(){const sidebar=document.getElementById('sidebar');const mainContent=document.getElementById('main-content');const closeSidebarBtn=document.getElementById('closeSidebar');const openSidebarBtn=document.getElementById('opensidebar');const sidebarBackdrop=document.getElementById('sidebarBackdrop');function toggleSidebar(){sidebar.classList.toggle('-translate-x-full');sidebar.classList.toggle('w-64');sidebar.classList.toggle('w-0');mainContent.classList.toggle('lg:ml-64');mainContent.classList.toggle('lg:ml-0');sidebarBackdrop.classList.toggle('hidden');localStorage.setItem('sidebarOpen',sidebar.classList.contains('w-64'));}
function applySidebarState(){const sidebarOpen=localStorage.getItem('sidebarOpen')==='true';if(!sidebarOpen){sidebar.classList.add('-translate-x-full','w-0');sidebar.classList.remove('w-64');mainContent.classList.remove('lg:ml-64');mainContent.classList.add('lg:ml-0');sidebarBackdrop.classList.add('hidden');}}
closeSidebarBtn.addEventListener('click',toggleSidebar);openSidebarBtn.addEventListener('click',toggleSidebar);sidebarBackdrop.addEventListener('click',toggleSidebar);document.addEventListener('click',function(event){const isClickInsideSidebar=sidebar.contains(event.target);const isClickInsideToggleBtn=openSidebarBtn.contains(event.target);if(!isClickInsideSidebar&&!isClickInsideToggleBtn&&window.innerWidth<1024&&!sidebar.classList.contains('-translate-x-full')){toggleSidebar();}});applySidebarState();});;const chatContainer=document.getElementById('chat-container');function scrollToBottom(){if(chatContainer){chatContainer.scrollTop=chatContainer.scrollHeight;}}
function handleNewMessage(){scrollToBottom();}
window.addEventListener('load',scrollToBottom);document.body.addEventListener('htmx:afterOnLoad',scrollToBottom);document.body.addEventListener('htmx:wsAfterMessage',scrollToBottom);const messageList=document.getElementById('message-list');if(messageList){const observer=new MutationObserver(handleNewMessage);observer.observe(messageList,{childList:true,subtree:true});}
console.log('Simplified chat scroll management script loaded');;